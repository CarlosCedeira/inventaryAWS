Table categorias {
  id int [pk, increment]
  nombre varchar(100) [not null]
  descripcion text
  padre_id int [ref: > categorias.id]
}

Table unidades_medida {
  id int [pk, increment]
  nombre varchar(50) [not null]
}

Table productos {
  id int [pk, increment]
  nombre varchar(100) [not null]
  descripcion text
  id_categoria int [not null, ref: > categorias.id]
  cantidad int [not null]
  precio_compra decimal(10,2) [not null]
  precio_venta decimal(10,2)
  fecha_entrada date [not null]
  caducidad date [not null]
  ubicacion varchar(100)
  id_unidad_medida int [ref: > unidades_medida.id]
  cantidad_medida decimal(10,2)
  codigo_barras varchar(50)
  created_at datetime
  updated_at datetime
  stock int
}

Table proveedores {
  id int [pk, increment]
  nombre varchar(100) [not null]
  direccion text [not null]
  telefono varchar(20) [not null]
  correo varchar(100) [not null]
}

Table productos_proveedores {
  id int [pk, increment]
  id_producto int [ref: > productos.id]
  id_proveedor int [ref: > proveedores.id]
  precio_unitario decimal(10,2) [not null]
  tiempo_entrega_estimado int
}

Table compras {
  id int [pk, increment]
  id_proveedor int [ref: > proveedores.id]
  fecha datetime [not null]
  total decimal
  estado varchar
  numero_factura varchar(50)
  descuentos decimal(10,2)
  impuestos decimal(10,2)
  created_at datetime
}

Table detalle_compra {
  id int [pk, increment]
  id_compra int [ref: > compras.id]
  id_producto int [ref: > productos.id]
  cantidad int [not null]
  precio_unitario decimal(10,2) [not null]
}

Table clientes {
  id int [pk, increment]
  nombre varchar(100) [not null]
  direccion text [not null]
  telefono varchar(20) [not null]
  correo varchar(100) [not null]
  documento varchar(50)
  tipo_cliente varchar(50)
  id_usuario_añade int [ref: > usuarios.id]
  created_at datetime
}

Table ventas {
  id int [pk, increment]
  id_cliente int [ref: > clientes.id]
  fecha datetime [not null]
  total decimal
  estado varchar
  numero_factura varchar(50)
  descuentos decimal(10,2)
  impuestos decimal(10,2)
  id_comercial int [ref: > usuarios.id]
  created_at datetime
}

Table detalle_venta {
  id int [pk, increment]
  id_venta int [ref: > ventas.id]
  id_producto int [ref: > productos.id]
  cantidad int [not null]
  precio_unitario decimal(10,2) [not null]
}

Table movimientos {
  id int [pk, increment]
  id_producto int [ref: > productos.id]
  tipo_movimiento varchar(10) [not null] // entrada, salida
  motivo varchar(50) [not null] // caducado, roto, devolución, otros
  cantidad int [not null]
  descripcion text [not null]
  fecha_salida date [not null]
}

Table usuarios {
  id int [pk, increment]
  rol varchar(50) [not null]
  nombre varchar(50) [not null]
}
